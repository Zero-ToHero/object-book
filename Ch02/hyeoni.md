# 02. 객체지향 프로그래밍

### 객체지향 패러다임으로의 전환
- 클래스가 아닌 객체에 초점을 맞출 때에만 얻을 수 있다.

---

### 객체에 초점을 맞추기 위해 집중해야하는 두가지
#### 1. 어떤 클래스가 필요한지가 아닌 어떤 객체들이 필요한지 고민하기
- 클래스는 공통적인 상태와 행동을 공유하는 객체들을 추상화한 것이므로 클래스의 윤곽을 잡기 위해서는 어떤 객체들이 어떤 상태와 행동을 가지는지를 먼저 결정해야 한다.

#### 2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공통체의 일원으로 봐야 함
- 객체를 협력하는 공동체의 일원으로 바라보는 것은 설계를 유연하고 확장 가능하게 만든다.
- 객체들의 모양과 윤곽이 잡히면 공통된 특성과 상태를 가진 객체들을 타입으로 분류하고 이 타입을 기반으로 클래스를 구현하기.

---

### 도메인의 구조를 따르는 프로그램 구조
- 프로그램 구조는 도메인(문제를 해결하는 분야)의 구조를 따르는 것이 중요하다.
- 클래스 이름은 도메인 개념과 유사하게 지어야 하며, 클래스 간 관계도 도메인 관계를 반영해야 한다.
- 클래스는 내부와 외부로 구분되며, 외부에 공개할 부분과 숨길 부분을 명확히 구분해야 한다.
- 클래스의 내부와 외부를 구분해야하는 이유: 경계의 명확성이 객체의 자율성을 보장하기 때문

---

### 자율적인 객체
- 객체 = 상태 + 행동
- 객체지향의 핵심은 스스로 상태를 관리하고, 판단하고, 행동하는 자율적인 객체들의 공동체를 구성하는 것이다.
- 객체가 자율적인 존재가 되려면 외부의 관섭을 최소화해야한다.
- 외부에서는 객체가 어떤 상태에 놓여 있는지, 어떤 생각을 하고 있는지 알면 안된다.

---

### 인터페이스와 구현의 분리
- 퍼블릭 인터페이스: 외부에서 접근 가능한 부분
- 구현: 외부에서 접근 불가능하고 오직 내부에서만 접근 가능한 부분
- 일반적으로 객체의 상태는 숨기고 행동만 외부에 공개해야 한다.

---

### 구현 은닉
- 객체는 외부에서 내부 상태를 변경할 수 없도록 보호하며, 내부 구현을 자유롭게 수정할 수 있다.

---

### 객체지향의 장점
- 객체지향은 **도메인**을 풍부하게 표현할 수 있어, 프로그램의 설계가 명확하고 유연해진다. 개념을 명시적으로 표현함으로써 설계의 품질이 향상된다.

---

### 협력
- 협력: 시스템의 어떤 기능을 구현하기 위해 객체들 사이에 이뤄지는 상호작용
- 객체가 다른 객체와 상호작용할 수 있는 유일한 방법은 메시지 전송하는 것 뿐이다.
- 객체들은 메시지를 주고받으며 협력한다. 객체는 메시지를 수신하고, 자신만의 방법으로 이를 처리하는 **메서드**를 사용한다.
- 객체는 외부의 의존 없이 자율적으로 동작한다.

---

#### 의존성
- 코드 의존성과 실행 시점 의존성은 다를 수 있으며, 이는 객체지향 설계가 **유연성**과 **확장성**을 제공한다. 
- 의존성을 적절히 분리하면 시스템이 더 복잡해지지만, 유지보수와 확장이 용이해진다.
- 의존성의 양면성은 설계가 트레이드오프의 산물이라는 것을 잘 보여준다.

---

### 상속과 인터페이스
- 상속이 가치있는 이유는 부모 클래스가 제공하는 모든 인터페이스를 자식 클래스가 물려받을 수 있기 때문이다.
- 인터페이스는 객체가 이해할 수 있는 메시지의 목록을 정의한다.

---

### 다형성
- 다형성은 메시지와 메서드의 구분에서부터 개념이 시작됨
- 다형성: 한 객체에서 동일한 메시지를 전송하지만 실제로 어떤 메서드가 실행될 것인지는 메시지를 수신하는 객체의 클래스가 무엇이냐에 따라 달라지는 것. 즉, **동일한 메시지를 수신했을 때 객체의 타입에 따라 다르게 응답할 수 있는 능력을 의미**한다.
- 컴파일 시간에 의존성은 고정되지만, 실행 시간에 의존성은 객체의 종류에 따라 다를 수 있다.
- 다형성 구현 방법: 메시지에 응답하기 위해 실행될 메서드를 컴파일 시점이 아닌 실행 시점에 결정하도록 하자.

---

### 상속의 단점
#### 1. 캡슐화 위반
- 자식 클래스와 부모클래스가 강하게 결합되어 있어 부모 클래스를 변경하면 자식 클래스도 변경할 가능성이 높다.
#### 2. 설계를 유연하지 못하게 만듬
- 부모 클래스와 자식 클래스 사이의 관계를 컴파일 시점에 결정하여 실행 시점에 객체의 종류를 변경하는 것이 불가능하다.

---

### 합성
- 합성: 다른 객체의 인스턴스를 자신의 인스턴스 변수로 포함해서 재사용하는 방법, 인터페이스에 정의된 메시지를 통해서만 코드를 재사용하는 방법
- 합성은 상속의 단점을 모두 해결한다.
- 그러나 코드를 재사용하는 경우에는 상속보다 합성을 선호하는 것이 옳지만 다형성을 위해 인터페이스를 재사용하는 경우에는 상속과 합성을 함께 조합해서 사용할 수 밖에 없다.

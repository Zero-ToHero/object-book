# 04. 설계 품질과 트레이드오프

### 객체지향 설계 (이전 내용 정리)
- 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동이다.
- 객체지향 설계의 핵심은 '책임'이다.
- 객체의 상태가 아니라 객체의 행동에 초점을 맞추는 것이다.
- 데이터 중심 설계와 책임 중심 설계를 비교하며 좋은 설계에 대한 통찰 얻기.

---

### 데이터 중심 설계의 문제점
1. 캡슐화 위반
    - 오직 메서드를 통해서만 객체의 내부 상태에 접근하게만 하면 캡슐화의 원칙을 지키는 것일까? 
=> NO! 내부 속성에 직접 접근을 못해도, 객체가 수행할 책임이 아니라 내부에 저장할 데이터에 초첨을 맞춘다면 캡슐화를 했다고 말할 수 없다!
    - 객체가 사용될 협력을 고려하지 않고 객체가 다양한 상황에서 사용될 수 있을 것이라는 막연한 추측을 기반으로 설계를 진행한다면 변경에 취약한 설계를 얻게 될 뿐이다.
2. 높은 결합도
    - 여러 데이터 객체들을 사용하는 제어로직이 특정 객체안에 집중되기 때문에 하나의 제어 객체가 다수의 데이터 객에 강하게 결합될 수 밖에 없다.
3. 낮은 응집도
    - 변경의 이유가 서로 다른 코드들을 하나의 모듈 안에 뭉쳐놓았기 때문에 변경과 아무 상관 없는 코드들이 영향을 박게 된다.
    - 응집도가 낮을 경우, 다른 모듈에 위치해야 할 책임의 일부가 엉뚱한 곳에 위치하게 된다.

---

### 설계의 제1원리 - 캡슐화
- 객체는 자신이 어떤 데이터를 가지고 있는지를 내부에 캡슐화하고 외부에 공개해서는 안된다.
- 객체는 스스로의 상태를 책임져야 하며 외부에서는 인터페이스에 정의된 메서드를 통해서만 상태에 접근할 수 있어야 한다.
- 메서드는 단순히 속성 하나의 값을 반환하거나 변경하는 접근자나 수정자를 의미하는 것이 아니다.
- 객체에게 의미 있는 메서드는 객체가 책임져야 하는 무언가를 수행하는 메서드이다.
- 속성이 private여도 접근자와 수정자를 통해 속성을 외부로 제공하고 있다면 캡슐화를 위반하는 것이다.
-  스스로 자신의 데이터를 책임지는 객체
    - 객체는 단순한 데이터 제공자가 아니다. 
    - 객체 내부에 저장되는 데이터보다 객체가 협력에 참여하면서 수행할 책임을 정의하는 오퍼레이션이 더 중요하다.
    - 객체가 어떤 데이터를 포함해야하는지와 데이터에 대하 수행해야할 오퍼레이션은 무엇인지 고민해라.
- 내부 구현의 변경이 외부로 퍼져나가는 파급 효과는 캡슐화가 부족하다는 명백한 증거다!
- 캡슐화가 된다면 낮은 결합도와 높은 응집도를 가질 수있다.

---

### 캡슐화의 진정한 의미
- 캡슐화는 변경될 수 있는 어떤 것이라도 감추는 것을 의미한다.
- 내부 속성을 외부로 감추는 것은 '데이터 캡슐화'라고 불리는 캡슐화의 한 종류일 뿐이다.
- 내부 구현의 변경으로 인해 외부의 객체가 영향을 받는다면 캡슐화 위반이라는 것을 기억하자.

---

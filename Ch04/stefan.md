# Ch04. 설계 품질과 트레이드오프

## 객체 지향의 핵심

1. 협력
2. 책임 ⭐️
3. 역할

- 이 중에서 책임이 가장 중요.
- 책임을 얼마나 잘 할당하는 지에 따라 `응집도`, `결합도`가 결정된다.
  - 객체지향 설계의 퀄리티를 의미.
  - `응집도`가 높을수록, `결합도`가 낮을수록 좋은 설계이다.

## 나쁜 설계에서 배우기: 데이터(상태) 중심 설계

- 상태 분기를 위한 상태가 많다.
- 로직 분기가 많다.
- 뭐 하나를 바꾸려면 넓은 범위에서의 변경이 필요하다.

## 캡슐화, 응집도, 결합도

- 캡슐화: 변경 가능성이 높은 부분을 객체 내부로 숨기는 추상화 기법.
- 응집도: 모듈에 포함된 내부 요소들이 연관돼 있는 정도. (관련된 로직이 뭉쳐진 정도 - 흩어져 있으면 수정 범위도 큼)
- 결합도: 의존성의 정도, 다른 모듈에 대해 얼마나 많은 지식(관심사)을 갖고 있는지의 정도. (하나 바꾸면 변경해야 하는 모듈이 얼마나 있는지)

> [!NOTE]
> 캡슐화의 정도가 `응집도`와 `결합도`에 영향을 미친다.
> 따라서 캡슐화를 설계의 첫번째 목표로 삼아야한다.

## 책임 중심 설계 vs 데이터 중심 설계

- `책임 -> 행동 -> 객체간 상호작용` 이렇게 순서대로 초점을 옮겨가면서 설계해야한다.
- 객체가 가질 데이터(상태) 중심으로 설계를 하면 너무 이른 시기에 데이터에 대해 고민하기 때문에 캡슐화에 실패한다.
  - 이는 인터페이스를 정하기도 전에 구현에 대해 고민을 하고 있는 것이다.
  - 객체의 구현이 이미 결정되고 나서 다른 객체와의 협력을 고민하기 때문에 억지로 인터페이스를 끼워 맞추게 된다.
- 설계의 초점은 항상 객체 외부에 맞춰야한다.
